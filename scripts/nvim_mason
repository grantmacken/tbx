#!/usr/bin/env -S nvim -l
print( '##[[ MASON ]]##' )
-- unset at scripts end
vim.uv.os_setenv("XDG_DATA_HOME", "/usr/local/share")
vim.print(vim.uv.os_getenv("XDG_DATA_HOME"))
-- log =  $XDG_DATA_HOME/nvim/mason.log

-- use pack.add
-- /usr/local/share/nvim/site/pack/core/opt/
vim.pack.add({
 'https://github.com/mason-org/mason.nvim',
  })

local ok_mason, mason = pcall(require, 'mason')
if ok_mason then
  print( 'required Mason' )
  mason.setup(
    {
      install_root_dir = '/usr/local',
      PATH = 'skip',
    }
  )

end
--
-- -- $XDG_DATA_HOME/nvim/mason.log
--
-- print( 'mason set up' )
--
-- vim.cmd([[:MasonInstall lua-language-server ]] )


vim.uv.os_unsetenv("XDG_DATA_HOME")
