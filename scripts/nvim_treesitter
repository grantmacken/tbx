#!/usr/bin/env -S nvim -l
-- set XDG_DATA_HOME for vim.pack
-- unset at scripts end
local treesitters = {
'awk',
'bash',
'comment',
'css',
'csv',
'diff',
'djot',
'dtd',
'ebnf',
'elixir',
'erlang',
'git_config',
'gitignore',
'gleam',
'gnuplot',
'html',
'http',
'javascript',
'jq',
'json',
'just',
'latex',
'ledger',
'make',
'markdown_inline',
'mermaid',
'nginx',
'printf',
'readline',
'regex',
'ssh_config',
'toml',
'xml',
'yaml'
}

vim.pack.add({
    {
    src = 'https://github.com/nvim-treesitter/nvim-treesitter',
    version = 'main'
    }})

local ok_ts, ts = pcall(require, 'nvim-treesitter')

if ok_ts then
  print( 'required treesitter' )
  ts.setup(
    {
      install_root_dir = '/usr/local/share/nvim/site',
    }
  )
ts.install(treesitters):wait(300000)
end

