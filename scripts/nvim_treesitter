#!/usr/bin/env -S nvim -l
vim.print( 'Install Treesitter Parsers and Queries' )
vim.cmd.packadd('nvim-treesitter')
local install_dir = vim.fn.stdpath('config_dirs')[1]
vim.print( 'install dir: ' .. install_dir)
local ok_ts, ts =  pcall(require, 'nvim-treesitter')
if ok_ts then
  ts.setup({
   install_dir = install_dir
 })
end

ts.install({ 'javascript', 'gleam'})
vim.uv.sleep(1000)

local iter = vim.uv.fs_scandir(install_dir)
if iter then
  while true do
    local name, t = vim.uv.fs_scandir_next(iter)
    if not name then break end
    print(name, t)
  end
end
