#!/usr/bin/env -S nvim -l
-- set XDG_DATA_HOME for vim.pack
--[[
nvim/site subdirectories for each directory in $XDG_DATA_DIRS
This is for plugins which were installed by system administrator,
but are not part of the Nvim distribution. XDG_DATA_DIRS defaults
to /usr/local/share/:/usr/share/, so system administrators are
expected to install site plugins to /usr/share/nvim/site.
-- unset at scripts end
vim.print(vim.fn.stdpath('data'))
]] --
-- use pack.add
-- /usr/local/share/nvim/site/pack/core/opt/
vim.uv.os_setenv("XDG_DATA_HOME", "/usr/local/share")

-- install mini.nvim
-- add to start directory so it's always loaded
local clone_cmd = {
  'git', 'clone', '--filter=blob:none',
  'https://github.com/nvim-mini/mini.nvim',
  '/usr/local/share/nvim/site/pack/core/start/mini.nvim'
}
vim.fn.system(clone_cmd)

-- add other plugins into opt directory

local color_schemes = {
  'https://github.com/neanias/everforest-nvim',
  'https://github.com/rebelot/kanagawa.nvim',
}

vim.pack.add(color_schemes)

local ui_bling = {
  'https://github.com/MeanderingProgrammer/render-markdown.nvim',
  'https://github.com/hiphish/rainbow-delimiters.nvim',
  'https://github.com/lewis6991/gitsigns.nvim',
  'https://github.com/rachartier/tiny-inline-diagnostic.nvim',
  'https://github.com/stevearc/oil.nvim',
  'https://github.com/stevearc/quicker.nvim',
}

vim.pack.add(ui_bling)

-- 'https://github.com/ray-x/lsp_signature.nvim',
-- 'https://github.com/rachartier/tiny-code-action.nvim',

vim.uv.os_unsetenv("XDG_DATA_HOME")
